<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Electron + React Template</title>
</head>

<body>
  <div id="root"></div>
  <script>
    // Mock Electron API for browser-based testing (MemLab, Storybook)
    if (!window.electron) {
      console.log('Injecting Electron Mocks (index.html)...');
      window.electron = {
        ipcRenderer: {
          on: () => { },
          removeListener: () => { },
          removeAllListeners: () => { },
          invoke: () => Promise.resolve(),
          send: () => { }
        }
      };
      window.electronAPI = {
        app: {
          getVersion: () => Promise.resolve('1.0.0'),
          installUpdate: () => Promise.resolve(),
        },
        data: {
          createBackup: () => Promise.resolve(),
          listBackups: () => Promise.resolve([]),
          restoreBackup: () => Promise.resolve(),
          exportData: () => Promise.resolve(),
          importData: () => Promise.resolve(),
          watchPath: () => Promise.resolve(),
          unwatchPath: () => Promise.resolve(),
          export: () => Promise.resolve(),
          import: () => Promise.resolve(),
          deleteBackup: () => Promise.resolve(),
          exportPreset: () => Promise.resolve(),
          exportPreset: () => Promise.resolve(),
          onConnectivityChanged: () => () => { },
          getConnectivityStatus: () => Promise.resolve('online'),
        },
        deepLink: {
          onReceived: () => () => { },
        },
        dialog: {
          showSaveDialog: () => Promise.resolve({ filePath: 'mock/path', canceled: false }),
          showOpenDialog: () => Promise.resolve({ filePaths: ['mock/path'], canceled: false }),
          message: () => Promise.resolve(),
        },
        events: {
          onMenuAction: () => () => { },
          onFileChange: () => () => { },
          onUpdateAvailable: () => () => { },
          onUpdateDownloaded: () => () => { },
          onUpdateProgress: () => () => { },
          onUpdateError: () => () => { },
        },
        file: { onFileChanged: () => () => { } },
        i18n: {
          getLanguage: () => Promise.resolve({ success: true, language: 'en' }),
        },
        ipc: {
          onReceived: () => () => { },
          send: () => { },
          invoke: () => Promise.resolve(),
        },
        log: {
          error: () => { },
          info: () => { },
          warn: () => { },
        },
        store: {
          get: () => Promise.resolve(null),
          set: () => Promise.resolve(),
        },
        storage: {
          get: () => Promise.resolve('mock-value'),
          set: () => Promise.resolve(),
          rotateKey: () => Promise.resolve(),
        },
        window: {
          minimize: () => { },
          maximize: () => { },
          close: () => { },
        }
      };
    }
  </script>
  <script type="module" src="./index.tsx"></script>
</body>

</html>